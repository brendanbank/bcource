{% set title = title|default(_fsdomain('Register')) %}
{% extends "security/base.html" %}
{% from "security/_macros.html" import render_field_with_errors, render_field, render_form_errors, 
	render_field_errors, render_submit %}

{% block content %}
  {% include "security/_messages.html" %}
  <div class="col-md-12"><h3 class="text-center">{{ _fsdomain('Register') }}</h1></div>

  <form class="needs-validation row justify-content-md-center" novalidate action="{{ url_for_security('register') }}"
  	method="post" name="register_user_form">

  	<div class="row col-md-8">
    {{ register_user_form.hidden_tag() }}
    {{ render_form_errors(register_user_form) }}
    {{ render_field_with_errors(register_user_form.email) }}
    {% if register_user_form.username %}
      {{ render_field_with_errors(register_user_form.username) }}
    {% endif %}
    {{ render_field_with_errors(register_user_form.password) }}
    {% if register_user_form.password_confirm %}
      {{ render_field_with_errors(register_user_form.password_confirm) }}
    {% endif %}
    {{ render_field_errors(register_user_form.csrf_token) }}
    <div class="small col-lg-4 py-0 my-0"></div>
    <div class="small col-lg-6 pb-2 py-0 my-0 pe-5"><span class="">By registring to the B-Course reservation service you agree 
               to the <a href="{{url_for('home_bp.tandc')}}">Terms of Service.</a></span></div>
    {{ render_submit(register_user_form.submit) }}
    </div>
  </form>
  </div>
  {% include "security/_menu.html" %}
{% endblock content %}
